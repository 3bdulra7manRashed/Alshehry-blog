# ==============================================================================
# SALEH ALSHEHRI BLOG - ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and fill in your values.
# Never commit .env to version control.
# ==============================================================================

# ─────────────────────────────────────────────────────────────────────────────
# APPLICATION SETTINGS
# ─────────────────────────────────────────────────────────────────────────────
APP_NAME="مدونة صالح الشهري"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost
FRONTEND_URL="${APP_URL}"
ASSET_URL=null

# Timezone & Localization
APP_TIMEZONE=UTC
APP_LOCALE=ar
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=ar_SA

# ─────────────────────────────────────────────────────────────────────────────
# LOGGING
# ─────────────────────────────────────────────────────────────────────────────
LOG_CHANNEL=stack
LOG_LEVEL=debug

# ─────────────────────────────────────────────────────────────────────────────
# DATABASE (MySQL/MariaDB)
# ─────────────────────────────────────────────────────────────────────────────
# Development: Use local MySQL with default settings
# Production: Use managed database with secure credentials
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=alshehri_blog
DB_USERNAME=root
DB_PASSWORD=

# ─────────────────────────────────────────────────────────────────────────────
# CACHE, SESSION & QUEUE
# ─────────────────────────────────────────────────────────────────────────────
BROADCAST_DRIVER=log
CACHE_DRIVER=file
FILESYSTEM_DISK=public
SESSION_DRIVER=file
SESSION_LIFETIME=120

# QUEUE: Must be "database" for newsletter campaigns to work
# Run queue worker: php artisan queue:work
QUEUE_CONNECTION=database

# ─────────────────────────────────────────────────────────────────────────────
# REDIS (Optional - for caching/sessions in production)
# ─────────────────────────────────────────────────────────────────────────────
MEMCACHED_HOST=127.0.0.1

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# ==============================================================================
# MAIL CONFIGURATION
# ==============================================================================
# This application uses a DUAL MAILER setup:
#
# 1. SYSTEM MAILER (MAIL_*): For transactional emails
#    - Password resets, email verification, contact form notifications
#    - Recommended: Gmail SMTP, Mailgun, or any reliable transactional provider
#
# 2. NEWSLETTER MAILER (NEWSLETTER_MAIL_*): For bulk campaign emails
#    - Newsletter campaigns sent to subscribers
#    - Recommended: Resend, Brevo (Sendinblue), Mailgun, or dedicated ESP
#    - Keep separate to protect transactional email reputation
# ==============================================================================

# ─────────────────────────────────────────────────────────────────────────────
# SYSTEM MAILER (Transactional Emails)
# ─────────────────────────────────────────────────────────────────────────────
# Used for: Password resets, email verification, contact form, admin alerts
# Gmail: smtp.gmail.com | Port: 465 (SSL) or 587 (TLS)
# Generate App Password: https://myaccount.google.com/apppasswords
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=no-reply@yourdomain.com
MAIL_FROM_NAME="${APP_NAME}"

# ─────────────────────────────────────────────────────────────────────────────
# NEWSLETTER MAILER (Bulk Campaign Emails)
# ─────────────────────────────────────────────────────────────────────────────
# Used for: Newsletter campaigns to subscribers
# Separate from system mail to protect sender reputation
#
# Recommended Providers:
# - Resend: smtp.resend.com | Port: 465 (SSL) | Username: resend | Password: API_KEY
# - Brevo: smtp-relay.brevo.com | Port: 587 | Username: your_email | Password: SMTP_KEY
# - Mailtrap (Testing): sandbox.smtp.mailtrap.io | Port: 2525
#
# If not set, falls back to MAIL_* configuration
NEWSLETTER_MAILER=newsletter
NEWSLETTER_MAIL_HOST=
NEWSLETTER_MAIL_PORT=587
NEWSLETTER_MAIL_USERNAME=
NEWSLETTER_MAIL_PASSWORD=
NEWSLETTER_MAIL_ENCRYPTION=tls

# ─────────────────────────────────────────────────────────────────────────────
# AWS S3 (Optional - for cloud file storage)
# ─────────────────────────────────────────────────────────────────────────────
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# ─────────────────────────────────────────────────────────────────────────────
# VITE (Frontend Assets)
# ─────────────────────────────────────────────────────────────────────────────
VITE_APP_NAME="${APP_NAME}"
VITE_APP_URL="${APP_URL}"

# ─────────────────────────────────────────────────────────────────────────────
# ADMIN USER (Required for database seeding)
# ─────────────────────────────────────────────────────────────────────────────
# Used by: php artisan db:seed --class=AdminUserSeeder
ADMIN_NAME="Admin User"
ADMIN_EMAIL=admin@yourdomain.com
ADMIN_PASSWORD=change_this_password

# ─────────────────────────────────────────────────────────────────────────────
# DELETED USER PLACEHOLDER
# ─────────────────────────────────────────────────────────────────────────────
# Email for reassigning content when a user is deleted
DELETED_USER_EMAIL=deleted-user@local

# ─────────────────────────────────────────────────────────────────────────────
# GOOGLE reCAPTCHA v2
# ─────────────────────────────────────────────────────────────────────────────
# Protects contact form from spam
# Get keys: https://www.google.com/recaptcha/admin
# Test keys below work on localhost only (always pass)
RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe
RECAPTCHA_THRESHOLD=0.5

# ==============================================================================
# QUICK START CHECKLIST
# ==============================================================================
# [ ] Copy this file to .env
# [ ] Generate APP_KEY: php artisan key:generate
# [ ] Configure DB_* for your MySQL connection
# [ ] Set MAIL_* for transactional emails (Gmail works for dev)
# [ ] Set NEWSLETTER_MAIL_* for campaigns (or leave blank to use MAIL_*)
# [ ] Set ADMIN_* credentials for seeding
# [ ] Run migrations: php artisan migrate --seed
# [ ] Start queue worker: php artisan queue:work
# [ ] Start dev server: php artisan serve
# ==============================================================================